<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://lime.openfl.org/project/1.0.2"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

    <!-- ==========================================================
         PROJECT METADATA
         ========================================================== -->
    <meta title="Hybrid FNF Engine"
          package="com.hybrid.fnf"
          version="1.0.0"
          company="HybridEngineTeam" />

    <app main="Main" path="export" file="HybridEngine" />

    <!-- Window settings -->
    <window width="1280" height="720" fps="60"
            hardware="true" vsync="false"
            allow-shaders="true"
            allow-high-dpi="true"
            resizable="true" />

    <!-- ==========================================================
         LANGUAGE + COMPILER SETTINGS
         ========================================================== -->
    <haxelib name="lime" />
    <haxelib name="openfl" />
    <haxelib name="flixel" />
    <haxelib name="flixel-addons" />
    <haxelib name="flixel-ui" />

    <!-- LLua support (Lua scripts) -->
    <haxelib name="lua-ffi" unless="html5" />

    <!-- HScript support -->
    <haxelib name="hscript" />

    <!-- Allow dynamic class loading -->
    <haxedef name="DYNAMIC" />

    <!-- Enable FlxRuntimeShader -->
    <haxedef name="FLX_RENDER_SHADER" />

    <!-- For faster builds -->
    <haxedef name="HXCPP_API_LEVEL" value="400" />

    <!-- ==========================================================
         SOURCE CODE
         ========================================================== -->
    <source path="source" />

    <!-- Allow mods to load dynamically -->
    <haxedef name="ALLOW_MODS" />

    <!-- ==========================================================
         ASSETS
         ========================================================== -->

    <!-- BASE ASSETS -->
    <assets path="assets/images"   rename="images"    embed="false" />
    <assets path="assets/sounds"   rename="sounds"    embed="false" />
    <assets path="assets/music"    rename="music"     embed="false" />
    <assets path="assets/fonts"    rename="fonts"     embed="false" />
    <assets path="assets/data"     rename="data"      embed="false" />
    <assets path="assets/shaders"  rename="shaders"   embed="false" />
    <assets path="assets/characters" rename="characters" embed="false" />
    <assets path="assets/stages"   rename="stages"    embed="false" />

    <!-- PRELOAD (title graphics, splash logos, font files) -->
    <assets path="preload" embed="true" />

    <!-- ==========================================================
         MODS
         ========================================================== -->
    <!-- Mods are NOT embedded so users can modify them -->
    <assets path="mods" rename="mods" embed="false" include="*" />

    <!-- ==========================================================
         ICONS
         ========================================================== -->
    <icon path="assets/icon/icon.png" />

    <!-- ==========================================================
         PLATFORM SPECIFICS
         ========================================================== -->

    <!-- WINDOWS -->
    <section if="windows">
        <haxedef name="HXCPP_STACK_TRACE" />
        <window fullscreen="false" />
    </section>

    <!-- HTML5 SUPPORT -->
    <section if="html5">
        <window fps="60" />
        <haxedef name="ENABLE_WEBGL" />
        <haxedef name="ACTIVATE_DESKTOP_MODE" />
    </section>

    <!-- LINUX / MACOS -->
    <section if="linux || mac">
        <haxedef name="HXCPP_STACK_TRACE" />
    </section>

    <!-- ==========================================================
         SHADERS COMPILATION
         ========================================================== -->
    <haxeflag name="-Dlegacy" />
    <haxedef name="openfl-disable-memory" />
    <haxedef name="shader-inline" />

    <!-- Allow reading/writing files -->
    <haxedef name="sys" />

    <!-- Animate ZIP & Folder extraction support -->
    <haxedef name="ALLOW_ANIMATE" />

    <!-- ==========================================================
         DONE
         ========================================================== -->
</project>
